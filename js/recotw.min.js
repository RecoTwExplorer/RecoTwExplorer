/*!
 * RecoTw Explorer - Copyright 2014, Chitoku
 * http://recotw.chitoku.jp/
 *
 * Licensed under MIT License
 * http://www.opensource.org/licenses/mit-license
 *
 * Required libraries:
 * - jQuery
 * - linq.js
 * - Bootstrap
 * - Google Charts
 */
var RecoTwExplorer;!function(e){"use strict";var t="RecoTw Explorer",r="2.34";$.fn.shake=function(e,t,r){return this.each(function(){for(var n=$(this),o=0;e>o;o++)n.animate({left:-t},r/e/4).animate({left:t},r/e/2).animate({left:0},r/e/4)})};var n=function(){function e(){}return e.INCORRECT_REGEX="指定された正規表現は正しくありません。",e.INCORRECT_URL_OR_ID="指定された URL または ID は正しくありません。",e.FAILED_TO_GENERATE_STATUS_URL="ツイートの URL を生成できません。",e.FAILED_TO_GENERATE_USER_URL="ユーザーへの URL を生成できません。",e.FAILED_TO_GENERATE_PROFILE_IMAGE_URL="プロフィール画像の URL を生成できません。",e.FAILED_TO_LOAD_EMBEDDED_TWEET="Twitter 埋め込みツイートの読み込みに失敗しました。",e.SEARCH_HELP_HTML="<dl><dt>ツイート検索</dt><dd><code>/</code> と <code>/</code> で囲むと正規表現検索</dd><dt>ユーザー名検索</dt><dd><code>from:</code> でユーザーを検索<br>カンマ区切りで複数入力</dd><dt>ID 検索</dt><dd><code>id:</code> で ID 検索</dd></dl>",e.STATISTICS_TABLE_HTML='<span class="statistics-table-header" style="border-color: #{0:X6};"><a href="javascript:void(0);" onclick="RecoTwExplorer.Controller.setSearchFilterByUsername(\'{1}\')">{1}</a> ({2})&nbsp;&nbsp;&ndash;&nbsp;&nbsp;{3:P1}</span><br>',e.TWEET_REMOVED_HTML='<blockquote>ツイートは削除されたか、または非公開に設定されています。<a href="{0}" target="_blank">表示</a><hr><div><img src="{1}" onerror="RecoTwExplorer.Controller.onImageError(this)"><span><a href="{2}" target="_blank">@{3}</a></span><p>{4}</p></div></blockquote>',e.LINK_TO_URL_HTML='<a href="{0}" target="_blank">{0}</a>',e.URL_INPUT_AREA=$("#new-record-form .modal-body").html(),e.USERNAME="ユーザ名",e.TWEETS_COUNT="ツイート数",e.NO_RESULT='<p class="text-center" style="margin-top: 200px;">該当ユーザーなし</p>',e.SEARCH_RESULT="検索結果: {0}",e.STATISTICS_COUNT="({0:N0} 件)",e.PAGE_TITLE_SEARCH_RESULT="検索結果: {0} - "+t,e.PAGE_TITLE_NORMAL=t,e.POST_ERRORS={400:"パラメーターが正しくありません。",403:"ツイートの取得に失敗しました。",404:"指定されたツイートは存在しません。",500:"すでに登録されているツイートです。",503:"サーバーで問題が発生しています。",UNKNOWN_ERROR:"原因不明のエラーです。"},e}(),o=function(){function e(e,t,r,n,o,i){void 0===e&&(e=[]),void 0===t&&(t=""),void 0===r&&(r=null),void 0===n&&(n=!1),void 0===o&&(o=2),void 0===i&&(i=1),this.usernames=e,this.body=t,this.id=r,this.regex=n,this.order=o,this.orderBy=i}return e.prototype.isFilteredByUsernames=function(){return void 0!==this.usernames&&this.usernames.length>0},e.prototype.isFilteredByID=function(){return void 0!==this.id&&null!==this.id},e.prototype.isFilteredByBody=function(){return void 0!==this.body&&this.body.length>0},e.prototype.isFiltered=function(){return this.isFilteredByUsernames()||this.isFilteredByID()||this.isFilteredByBody()},e.prototype.toQueryString=function(){var e=[];return this.isFilteredByUsernames()&&(e[e.length]="username="+encodeURIComponent(this.usernames.join(","))),this.isFilteredByID()&&(e[e.length]="id="+encodeURIComponent(this.id)),this.isFilteredByBody()&&(e[e.length]=this.regex?"body="+encodeURIComponent("/"+this.body+"/"):"body="+encodeURIComponent(this.body)),e.length>0?"?"+e.join("&"):""},e.prototype.toKeywords=function(){var e=[];return this.isFilteredByUsernames()&&(e[e.length]="from:"+this.usernames.join(",")),this.isFilteredByID()&&(e[e.length]="id:"+this.id),this.isFilteredByBody()&&(e[e.length]=this.regex?"/"+this.body+"/":this.body),e.join(" ")},e.fromQueryString=function(t,r,n){var o=new e([],"",null,!1,r,n);if(0===t.length||"?"===t)return o;var i=t.substring(1).split("&").map(function(e){return e.split("=")}).filter(function(e){return 2===e.length}).map(function(e){return{property:e[0],value:decodeURIComponent(e[1])}});return i.filter(function(e){return"body"===e.property}).forEach(function(e){var t;null!==(t=e.value.match(/^\/(.*)\/$/))?(o.body=t[1],o.regex=!0):(o.body=e.value,o.regex=!1)}),i.filter(function(e){return"username"===e.property}).forEach(function(e){return o.usernames=e.value.split(",")}),i.filter(function(e){return"id"===e.property}).forEach(function(e){return o.id=e.value}),o},e.fromKeywords=function(t,r,n){for(var o,i=new e([],"",null,!1,r,n),s=t.split(" "),a=0;a<s.length;a++)null===(o=s[a].match(/^from:([a-zA-Z0-9_]+(?:,[a-zA-Z0-9_]+)*)$/))?null===(o=s[a].match(/^id:(\d+)$/))?i.body+=s[a]:i.id=o[1]:i.usernames=o[1].split(",");return null!==(o=i.body.match(/^\/(.*)\/$/))&&(i.body=o[1],i.regex=!0),i},e}(),i=function(){function e(e){this.users=e.groupBy(function(e){return e.target_id}).select(function(e){return{target_sn:e.firstOrDefault().target_sn,count:e.count()}}).orderByDescending(function(e){return e.count}).thenBy(function(e){return e.target_sn.toLowerCase()}).toArray(),this.entryLength=e.count(),this.dataTable=new google.visualization.DataTable({cols:[{type:"string",label:n.USERNAME},{type:"number",label:n.TWEETS_COUNT}],rows:this.users.map(function(e){return{c:[{v:e.target_sn},{v:e.count}]}})})}return e}(),s=function(){function e(e,t,r){var n=this;void 0===t&&(t=null),void 0===r&&(r=Enumerable.from(e)),this.elements=e,this.userIDs=t,this.enumerable=r,null===t&&(this.userIDs=this.enumerable.toDictionary(function(e){return e.target_id},function(e){return e.target_sn}),this.enumerable.forEach(function(e){return e.target_sn=n.userIDs.get(e.target_id)}))}return e.prototype.addRange=function(e){var t=this;e.forEach(function(e){return t.elements[t.elements.length]=e})},e.prototype.clone=function(){return new e(this.elements,this.userIDs,this.enumerable)},e.prototype.reset=function(){return new e(this.elements,this.userIDs)},e.prototype.getAllLength=function(){return this.elements.length},e.prototype.getEnumerable=function(){return this.enumerable},e.prototype.createStatistics=function(){return new i(this.enumerable)},e.prototype.sort=function(e){var t=this.clone();if(!e)return t;var r=e.order||2,n=e.orderBy||1,o=function(e,t){return e-t};return 1===r?1===n?t.enumerable=t.enumerable.orderBy(function(e){return e.record_date}):2===n&&(t.enumerable=t.enumerable.orderBy(function(e){return e.tweet_id},o)):2===r?1===n?t.enumerable=t.enumerable.orderByDescending(function(e){return e.record_date}):2===n&&(t.enumerable=t.enumerable.orderByDescending(function(e){return e.tweet_id},o)):3===r&&(t.enumerable=t.enumerable.shuffle()),t},e.prototype.filter=function(e){var t=this.clone();if(void 0===e||null===e)return t;var r;if(void 0!==e.body&&e.body.length>0)if(e.regex){try{r=new RegExp(e.body,"i")}catch(o){throw new Error(n.INCORRECT_REGEX)}t.enumerable=t.enumerable.where(function(e){return r.test(e.content)})}else e.body=e.body.toLowerCase(),t.enumerable=t.enumerable.where(function(t){return t.content.toLowerCase().contains(e.body)});return void 0!==e.usernames&&e.usernames.length>0&&(t.enumerable=t.enumerable.where(function(t){return e.usernames.some(function(e){return t.target_sn.toLowerCase()===e.toLowerCase()})})),null!==e.id&&(t.enumerable=t.enumerable.where(function(t){return t.tweet_id===e.id})),t},e}(),a=function(){function e(){}return e.init=function(){var t=[],r=localStorage.getItem("entries");r&&(t=JSON.parse(r)),e.getLatestEntries(t).then(l.onEntriesLoaded,l.onEntriesLoadFailed)},e.save=function(){localStorage.setItem("entries",JSON.stringify(e.entries.reset().getEnumerable().toArray()))},e.getEntry=function(t){return null===e.entries?null:e.entries.getEnumerable().firstOrDefault(function(e){return e.tweet_id===t})},e.getEntries=function(){return null===e.entries?null:e.entries.getEnumerable()},e.getStatistics=function(){return null===e.entries?null:null!==e.statistics?e.statistics:e.statistics=e.entries.createStatistics()},e.setOptions=function(t){return null===e.entries?null:(e.entries=e.entries.reset().sort(t).filter(t),void(e.statistics=null))},e.validateURLorID=function(e){var t;if(void 0===e||null===e||0===e.length)return null;if(null!==(t=e.match(/^(?:(?:https?:\/\/(?:www\.|mobile\.)?)?twitter\.com\/(?:#!\/)?[a-zA-Z0-9_]+\/status(?:es)?\/(\d+)|(\d+))$/)))return t[1]||t[2];throw new Error(n.INCORRECT_URL_OR_ID)},e.getLatestEntries=function(t){var r;null!==e.entries?r=+e.entries.reset().getEnumerable().lastOrDefault().id+1:t&&t.length>0&&(r=+Enumerable.from(t).lastOrDefault().id+1);var n=$.Deferred();return $.ajax({url:e.RECOTW_GET_ALL_URL,dataType:"json",data:{since_id:r}}).done(function(r,o,i){null===e.entries&&(e.entries=new s(t)),r.length>0&&e.entries.addRange(Enumerable.from(r)),n.resolve(r)}).fail(function(e,t,r){n.reject(e)}),n.promise()},e.postEntriesFromInputs=function(t){var r=$.Deferred(),o=t.map(function(t){return e.validateURLorID(t)});return $.ajax({url:this.RECOTW_POST_URL,type:"POST",data:{id:o[0]},dataType:"json"}).done(function(t,n,o){+t.id-1===+e.entries.reset().getEnumerable().lastOrDefault().id&&(delete t.result,e.entries.addRange(Enumerable.make(t)),l.onNewEntries()),r.resolve(t)}).fail(function(e,t,o){var i=e.responseJSON;r.reject(i&&i.errors?n.POST_ERRORS[i.errors[0].code]||i.errors[0].message:n.POST_ERRORS.UNKNOWN_ERROR)}),r.promise()},e.createStatusURL=function(t){if("string"==typeof t)return String.format(e.TWITTER_STATUS_URL,t);if(void 0!==t.target_sn&&void 0!==t.tweet_id)return String.format(e.TWITTER_STATUS_URL.replace(/show/,t.target_sn),t.tweet_id);throw new Error(n.FAILED_TO_GENERATE_STATUS_URL)},e.createUserURL=function(t){if("string"==typeof t)return String.format(e.TWITTER_USER_URL,t);if(void 0!==t.target_sn)return String.format(e.TWITTER_USER_URL,t.target_sn);throw new Error(n.FAILED_TO_GENERATE_USER_URL)},e.createProfileImageURL=function(t){if(null===t)return e.ALTERNATIVE_ICON_URL;if("string"==typeof t)return String.format(e.TWITTER_PROFILE_IMAGE_URL,t);if(void 0!==t.target_sn)return String.format(e.TWITTER_PROFILE_IMAGE_URL,t.target_sn);throw new Error(n.FAILED_TO_GENERATE_PROFILE_IMAGE_URL)},e.setSearchQueryString=function(e){history&&history.pushState?history.pushState(null,null,location.pathname+e.toQueryString()):location.hash=e.toQueryString().slice(1)},e.startPolling=function(){null===e.pollingID&&(e.pollingID=window.setInterval(function(){return e.getLatestEntries().then(function(e){e.length>0&&l.onNewEntries()})},e.POLLING_INTERVAL))},e.stopPolling=function(){window.clearInterval(e.pollingID),e.pollingID=null},e.ALTERNATIVE_ICON_URL="./images/none.png",e.TWITTER_STATUS_URL="https://twitter.com/show/status/{0}",e.TWITTER_USER_URL="https://twitter.com/{0}",e.TWITTER_PROFILE_IMAGE_URL="http://www.paper-glasses.com/api/twipi/{0}/",e.RECOTW_GET_ALL_URL="http://api.recotw.black/1/tweet/get_tweet_all",e.RECOTW_POST_URL="http://api.recotw.black/1/tweet/record_tweet",e.RECOTW_COUNT_URL="http://api.recotw.black/1/tweet/count_tweet",e.POLLING_INTERVAL=2e4,e.entries=null,e.statistics=null,e.pollingID=null,e}(),u=function(){function e(){}return e.getTabFromID=function(e){switch(e){case"home-tab":return 1;case"statistics-tab":return 2;default:return 0}},e.getCurrentTab=function(){return e.getTabFromID($(".tab-pane.active").attr("id"))},e.setCurrentTab=function(e){switch(e){case 1:return $("a[href='#home-tab']").tab("show");case 2:return $("a[href='#statistics-tab']").tab("show");default:return null}},e.setTitle=function(e){(""===location.hostname||"localhost"===location.hostname)&&(e="[DEBUG] "+e),document.title=e},e.createTwitterCB=function(e){twttr.widgets?e(twttr):twttr.ready(e)},e.renderHome=function(){var t=this;$("#no-result-container").hide(),l.setLoadingState(!1);var r=$("#main-area")[0],n={lang:"ja"},o=a.getEntries();return o.isEmpty()?void $("#no-result-container").fadeIn():void e.createTwitterCB(function(){o.skip(e.current).take(e.TWEETS_COUNT).forEach(function(o){twttr.widgets.createTweet(o.tweet_id,r,n).then(e.setTweetWidgetStyle.bind(t,++e.widgetID,o))}),e.current+=e.TWEETS_COUNT})},e.setTweetWidgetStyle=function(t,r,n){n?$(n).contents().find(".Tweet-followButton").hide():e.showStatusLoadFailedMessage(t,r)},e.renderStatistics=function(t){if(null!==a.getEntries()){var r=a.getStatistics();if($("#no-result-container").hide(),null===e.chart&&(e.chart=new google.visualization.PieChart($("#statistics-chart")[0]),google.visualization.events.addListener(e.chart,"click",l.onChartSliceClick)),void 0===t){$("#statistics-count").text(String.format(n.STATISTICS_COUNT,r.entryLength));var o=l.getOptions();if($("#statistics-filter").text(o.isFiltered()?String.format(n.SEARCH_RESULT,o.toKeywords()):""),0===r.entryLength)return $("#statistics-chart").hide(),void $("#no-result-container").fadeIn();$("#statistics-chart").show(),e.chart.draw(r.dataTable,e.GRAPH_OPTIONS)}e.renderStatisticsTable(t,r)}},e.renderStatisticsTable=function(t,r){var o=r.users.filter(function(t){return t.count/r.entryLength>e.GRAPH_OPTIONS.sliceVisibilityThreshold}).length,i=$("#statistics-table").empty(),s="";t=void 0!==t?t.toLowerCase():void 0;for(var a=function(e){return void 0===t||e.toLowerCase().startsWith(t)},u=0;o>u;u++)a(r.users[u].target_sn)&&(s+=String.format(n.STATISTICS_TABLE_HTML,e.GRAPH_COLORS[u+1],r.users[u].target_sn,r.users[u].count,r.users[u].count/r.entryLength));for(var u=o;u<r.users.length;u++)a(r.users[u].target_sn)&&(s+=String.format(n.STATISTICS_TABLE_HTML,e.GRAPH_COLORS[0],r.users[u].target_sn,r.users[u].count,r.users[u].count/r.entryLength));i.append(0===s.length?n.NO_RESULT:s)},e.clearHome=function(){e.current=0,$("#main-area").empty()},e.setSearchKeywords=function(e){$("#search-box").val(e.toKeywords())},e.postEntries=function(){var t=$("#new-record-modal input[type='text']").map(function(){return $(this).val()}).get();try{a.postEntriesFromInputs(t.filter(function(e){return e.length>0})).then(e.showPostSuccessMessage,e.showPostFailedMessage),$("#new-record-modal").modal("hide")}catch(r){$("#inputPostStatus").val("").focus(),$("#new-record-modal .modal-dialog").shake(2,18,300)}},e.showPostSuccessMessage=function(e){var t=$("#post-result");t.hide(),t[0].className="alert alert-success",$("#post-failed").hide(),$("#post-success").show(),t.fadeIn()},e.showPostFailedMessage=function(e){var t=$("#post-result");t.hide(),t[0].className="alert alert-danger",$("#post-success").hide(),$("#post-failed").show(),$("#post-failed-reason").text(e),t.fadeIn()},e.replaceLinkToURL=function(e){return e.replace(/[\r\n]/g,"<br>").replace(/https?:\/\/t\.co\/[A-Za-z0-9]+/g,function(e){return String.format(n.LINK_TO_URL_HTML,e)})},e.showStatusLoadFailedMessage=function(t,r){$("#twitter-widget-"+t).after(String.format(n.TWEET_REMOVED_HTML,a.createStatusURL(r),a.createProfileImageURL(r),a.createUserURL(r),r.target_sn,e.replaceLinkToURL(r.content))).remove()},e.TWEETS_COUNT=25,e.GRAPH_COLORS=[13421772,3368652,14432530,16750848,1087e3,10027161,39366,14500983,6728192,12070446,3236757,10044569,2271897,11184657,6697932,15102720,9111303,6623335,3314274,5600422,3882668,12022562,1496608,12129155,16004510,10246453,11125779,2783117,6720796,12493843,809250,7615505],e.GRAPH_OPTIONS={backgroundColor:"#FEFEFE",chartArea:{width:"90%",height:"100%"},is3D:!0,legend:"none",sliceVisibilityThreshold:.0099},e.chart=null,e.current=0,e.widgetID=-1,e}(),l=function(){function e(){}return e.getOptions=function(){return e.options},e.setOptions=function(t,r,o,i){try{a.setOptions(e.options=t)}catch(s){return void console.log(s.message)}if(o&&a.setSearchQueryString(t),i&&u.setSearchKeywords(t),t.isFiltered()?($("#clear-search-filter").show(),u.setTitle(String.format(n.PAGE_TITLE_SEARCH_RESULT,t.toKeywords()))):($("#clear-search-filter").hide(),u.setTitle(n.PAGE_TITLE_NORMAL)),$("#statistics-filter-textbox").val(""),null!==a.getEntries()){var l=u.getCurrentTab();2===l?(u.clearHome(),r?e.homeRendered=!1:e.reload()):e.reload()}},e.setLoadingState=function(t){e.loading=t},e.main=function(){u.setTitle(n.PAGE_TITLE_NORMAL),$("#app-version").text(r),navigator.standalone&&$(document.body).addClass("standalone"),a.init(),google.load("visualization","1.0",{packages:["corechart"]}),$("#loading-recotw").show(),e.setOptions(o.fromQueryString(location.search,2,1),!1,!1,!0),$(window).unload(a.save),$(window).bottom({proximity:.05}),$(window).on("bottom",function(){1===u.getCurrentTab()&&e.onPageBottom()}),$(".navbar-nav a[role='tab']").on("shown.bs.tab",function(t){var r=function(e){return u.getTabFromID(e.href.substring(e.href.lastIndexOf("#")+1))};e.onTabSwitched(r(t.relatedTarget),r(t.target))}),$("#clear-search-filter").click(function(){e.setOptions(o.fromKeywords("",e.getOrder(),e.getOrderBy()),!1,!0,!0)}),$("[id^='order-by-']").change(function(){e.options.order=e.getOrder(),e.options.orderBy=e.getOrderBy(),e.setOptions(e.options,!0,!1,!1)}),$("#order-shuffle").click(function(){e.options.order=e.getOrder(),e.setOptions(e.options,!0,!1,!1)}),$("#search-form").submit(function(t){t.preventDefault(),e.setOptions(o.fromKeywords($("#search-box").val(),e.getOrder(),e.getOrderBy()),!1,!0,!1)}),$("#search-form-toggle-button").click(function(){var e=$(this),t=$("#search-form"),r=$("#page-main");e.hasClass("active")?(e.removeClass("active"),r.removeClass("main-search-active"),t.css({display:""})):(e.addClass("active"),r.addClass("main-search-active"),t.css({cssText:"display: block !important"}))}),$(window).on("popstate",function(){e.setOptions(o.fromQueryString(location.search,e.getOrder(),e.getOrderBy()),!1,!1,!0)}),$("#reload-entries-link").click(function(){$("#polling-result, #post-result").fadeOut(),e.showNewStatuses()}),$("#new-record-form").submit(function(e){e.preventDefault(),u.postEntries()}),$("#new-record-modal").on("shown.bs.modal",function(){$("#new-record-form .url-box").focus()}),$("#new-record-modal").on("hidden.bs.modal",function(){$("#new-record-form .modal-body").empty().html(n.URL_INPUT_AREA)}),$("#post-result-close").click(function(){$("#post-result").fadeOut()}),$("#polling-result-close").click(function(){$("#polling-result").fadeOut()}),$("#statistics-filter-textbox").on("keyup change",function(){e.setChartFilterByUsername($(this).val())}),$("#search-box").popover({placement:"bottom",html:!0,content:n.SEARCH_HELP_HTML}).blur(function(){$(this).popover("hide")}).keydown(function(e){(13===e.keyCode||27===e.keyCode)&&$(this).popover("hide")})},e.getOrder=function(){return $(".order-radio-box:checked").data("order")},e.getOrderBy=function(){return $(".order-radio-box:checked").data("order-by")},e.reload=function(){if(null!==a.getEntries())switch(u.getCurrentTab()){case 1:u.clearHome(),u.renderHome(),$("#statistics-filter-textbox").val(""),e.homeRendered=!0,e.statisticsRendered=!1;break;case 2:u.renderStatistics(),e.homeRendered=!1,e.statisticsRendered=!0}},e.onEntriesLoaded=function(){$("#loading-recotw").fadeOut(),$("#loading-panel-container").fadeOut(),null!==a.getEntries()&&(a.startPolling(),e.setOptions(e.options,!1,!1,!0))},e.onEntriesLoadFailed=function(){$("#loading-panel").fadeOut().promise().done(function(){return $("#loading-error-panel").fadeIn()})},e.onNewEntries=function(){$("#polling-result").fadeIn()},e.isMobile=function(){return/iPhone|iP[ao]d|Android|Windows.*Phone/.test(navigator.userAgent)},e.onTabSwitched=function(t,r){switch(r){case 1:e.homeRendered||(u.renderHome(),e.homeRendered=!0);break;case 2:e.isMobile()||($("#statistics-filter-textbox").focus(),window.setTimeout(function(){return $("#statistics-table").animate({scrollTop:0},400)},100)),e.statisticsRendered||(u.renderStatistics(),e.statisticsRendered=!0)}},e.onPageBottom=function(){e.loading||(e.loading=!0,u.renderHome())},e.onImageError=function(e){e.src=a.createProfileImageURL(null)},e.onChartSliceClick=function(t){var r=t.targetID;r.contains("#")&&e.setSearchFilterByUsername(a.getStatistics().users[+r.substring(r.indexOf("#")+1)].target_sn)},e.onNewRecordFormTextBoxValueChanged=function(){var e=$(".url-input-area"),t=$(".url-box").map(function(){return $(this).val()}).get();e.each(function(e){$(this).removeClass("has-success has-error");try{null!==a.validateURLorID(t[e])&&$(this).addClass("has-success")}catch(r){$(this).addClass("has-error")}})},e.setSearchFilterByUsername=function(t){u.setCurrentTab(1),e.options.usernames=[t],e.setOptions(e.options,!1,!0,!0)},e.setChartFilterByUsername=function(e){u.renderStatistics(e)},e.showNewStatuses=function(){u.setCurrentTab(1),e.setOptions(new o([],"",null,!1,e.options.order,e.options.orderBy),!1,!0,!0),e.reload()},e.options=new o,e.loading=!1,e.homeRendered=!1,e.statisticsRendered=!1,e}();e.Controller=l,l.main()}(RecoTwExplorer||(RecoTwExplorer={}));